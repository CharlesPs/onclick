{"ast":null,"code":"import _slicedToArray from \"/Users/msumaran/Documents/Proyectos/masternativos/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/msumaran/Documents/Proyectos/masternativos/src/app/scrumboard/board/BoardAddCard.js\";\nimport { useForm } from '@fuse/hooks';\nimport Button from '@material-ui/core/Button';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Icon from '@material-ui/core/Icon';\nimport IconButton from '@material-ui/core/IconButton';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport TextField from '@material-ui/core/TextField';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport * as Actions from '../store/actions';\n\nfunction BoardAddCard(props) {\n  var dispatch = useDispatch();\n  var board = useSelector(function (_ref) {\n    var scrumboardApp = _ref.scrumboardApp;\n    return scrumboardApp.board;\n  });\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      formOpen = _useState2[0],\n      setFormOpen = _useState2[1];\n\n  var _useForm = useForm({\n    title: ''\n  }),\n      form = _useForm.form,\n      handleChange = _useForm.handleChange,\n      resetForm = _useForm.resetForm;\n\n  useEffect(function () {\n    if (!formOpen) {\n      resetForm();\n    }\n  }, [formOpen, resetForm]);\n\n  function handleOpenForm() {\n    setFormOpen(true);\n  }\n\n  function handleCloseForm() {\n    setFormOpen(false);\n  }\n\n  function handleSubmit(ev) {\n    ev.preventDefault();\n    dispatch(Actions.newCard(board.id, props.listId, form.title)).then(function () {\n      props.onCardAdded();\n    });\n    handleCloseForm();\n  }\n\n  function isFormInvalid() {\n    return form.title.length === 0;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full border-t-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 3\n    }\n  }, formOpen ? /*#__PURE__*/React.createElement(ClickAwayListener, {\n    onClickAway: handleCloseForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"p-16\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    className: \"mb-16\",\n    required: true,\n    fullWidth: true,\n    variant: \"outlined\",\n    label: \"Card title\",\n    autoFocus: true,\n    name: \"title\",\n    value: form.title,\n    onChange: handleChange,\n    InputProps: {\n      endAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n        position: \"end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        onClick: handleCloseForm,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        className: \"text-18\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 12\n        }\n      }, \"close\")))\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-between items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"secondary\",\n    type: \"submit\",\n    disabled: isFormInvalid(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 8\n    }\n  }, \"Add\")))) : /*#__PURE__*/React.createElement(Button, {\n    onClick: handleOpenForm,\n    classes: {\n      root: 'normal-case font-600 w-full rounded-none h-48',\n      label: 'justify-start'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    className: \"text-20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 6\n    }\n  }, \"add\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"mx-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 6\n    }\n  }, \"Add a card\")));\n}\n\nexport default BoardAddCard;","map":{"version":3,"sources":["/Users/msumaran/Documents/Proyectos/masternativos/src/app/scrumboard/board/BoardAddCard.js"],"names":["useForm","Button","ClickAwayListener","Icon","IconButton","InputAdornment","TextField","React","useEffect","useState","useDispatch","useSelector","Actions","BoardAddCard","props","dispatch","board","scrumboardApp","formOpen","setFormOpen","title","form","handleChange","resetForm","handleOpenForm","handleCloseForm","handleSubmit","ev","preventDefault","newCard","id","listId","then","onCardAdded","isFormInvalid","length","endAdornment","root","label"],"mappings":"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","sourcesContent":["import { useForm } from '@fuse/hooks';\nimport Button from '@material-ui/core/Button';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Icon from '@material-ui/core/Icon';\nimport IconButton from '@material-ui/core/IconButton';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport TextField from '@material-ui/core/TextField';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport * as Actions from '../store/actions';\n\nfunction BoardAddCard(props) {\n\tconst dispatch = useDispatch();\n\tconst board = useSelector(({ scrumboardApp }) => scrumboardApp.board);\n\n\tconst [formOpen, setFormOpen] = useState(false);\n\tconst { form, handleChange, resetForm } = useForm({\n\t\ttitle: ''\n\t});\n\n\tuseEffect(() => {\n\t\tif (!formOpen) {\n\t\t\tresetForm();\n\t\t}\n\t}, [formOpen, resetForm]);\n\n\tfunction handleOpenForm() {\n\t\tsetFormOpen(true);\n\t}\n\n\tfunction handleCloseForm() {\n\t\tsetFormOpen(false);\n\t}\n\n\tfunction handleSubmit(ev) {\n\t\tev.preventDefault();\n\t\tdispatch(Actions.newCard(board.id, props.listId, form.title)).then(() => {\n\t\t\tprops.onCardAdded();\n\t\t});\n\t\thandleCloseForm();\n\t}\n\n\tfunction isFormInvalid() {\n\t\treturn form.title.length === 0;\n\t}\n\n\treturn (\n\t\t<div className=\"w-full border-t-1\">\n\t\t\t{formOpen ? (\n\t\t\t\t<ClickAwayListener onClickAway={handleCloseForm}>\n\t\t\t\t\t<form className=\"p-16\" onSubmit={handleSubmit}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tclassName=\"mb-16\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tlabel=\"Card title\"\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\tvalue={form.title}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t<IconButton onClick={handleCloseForm}>\n\t\t\t\t\t\t\t\t\t\t\t<Icon className=\"text-18\">close</Icon>\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<div className=\"flex justify-between items-center\">\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" type=\"submit\" disabled={isFormInvalid()}>\n\t\t\t\t\t\t\t\tAdd\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</ClickAwayListener>\n\t\t\t) : (\n\t\t\t\t<Button\n\t\t\t\t\tonClick={handleOpenForm}\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\troot: 'normal-case font-600 w-full rounded-none h-48',\n\t\t\t\t\t\tlabel: 'justify-start'\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Icon className=\"text-20\">add</Icon>\n\t\t\t\t\t<span className=\"mx-8\">Add a card</span>\n\t\t\t\t</Button>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default BoardAddCard;\n"]},"metadata":{},"sourceType":"module"}