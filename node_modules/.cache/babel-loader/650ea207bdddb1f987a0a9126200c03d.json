{"ast":null,"code":"import _classCallCheck from \"/Users/msumaran/Documents/Proyectos/masternativos/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/msumaran/Documents/Proyectos/masternativos/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/msumaran/Documents/Proyectos/masternativos/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/msumaran/Documents/Proyectos/masternativos/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/msumaran/Documents/Proyectos/masternativos/src/@fuse/core/FuseLayout/FuseLayout.js\";\nimport FuseLayouts from '@fuse/layouts/FuseLayouts';\nimport _ from '@lodash';\nimport { withStyles } from '@material-ui/core/styles';\nimport AppContext from 'app/AppContext';\nimport * as Actions from 'app/store/actions';\nimport { generateSettings } from 'app/store/reducers/fuse/settings.reducer';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { matchRoutes } from 'react-router-config';\nimport { withRouter } from 'react-router-dom';\nimport { bindActionCreators } from 'redux';\nimport * as Velocity from 'velocity-animate';\nimport { defaults as Chartjs2Defaults } from 'react-chartjs-2';\n\nvar styles = function styles(theme) {\n  return {\n    '@global': {\n      'code:not([class*=\"language-\"])': {\n        color: theme.palette.secondary.dark,\n        backgroundColor: theme.palette.type === 'light' ? 'rgba(255, 255, 255, .9)' : 'rgba(0, 0, 0, .9)',\n        padding: '2px 3px',\n        borderRadius: 2,\n        lineHeight: 1.7\n      },\n      'table.simple tbody tr td': {\n        borderColor: theme.palette.divider\n      },\n      'table.simple thead tr th': {\n        borderColor: theme.palette.divider\n      },\n      'a:not([role=button])': {\n        color: theme.palette.secondary.main,\n        textDecoration: 'none',\n        '&:hover': {\n          textDecoration: 'underline'\n        }\n      },\n      '[class^=\"border-\"]': {\n        borderColor: theme.palette.divider\n      },\n      '[class*=\"border-\"]': {\n        borderColor: theme.palette.divider\n      }\n    },\n    root: {\n      backgroundColor: theme.palette.background.default,\n      color: theme.palette.text.primary\n    }\n  };\n};\n\nvar FuseLayout = /*#__PURE__*/function (_Component) {\n  _inherits(FuseLayout, _Component);\n\n  var _super = _createSuper(FuseLayout);\n\n  function FuseLayout(props, context) {\n    var _this;\n\n    _classCallCheck(this, FuseLayout);\n\n    _this = _super.call(this, props);\n    var routes = context.routes;\n    _this.state = {\n      awaitRender: false,\n      routes: routes\n    };\n    return _this;\n  }\n\n  _createClass(FuseLayout, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          settings = _this$props.settings,\n          classes = _this$props.classes; // console.warn('FuseLayout:: rendered');\n\n      var Layout = FuseLayouts[settings.layout.style];\n      return !this.state.awaitRender ? /*#__PURE__*/React.createElement(Layout, Object.assign({\n        classes: {\n          root: classes.root\n        }\n      }, this.props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 36\n        }\n      })) : null;\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      var pathname = props.location.pathname;\n      var matched = matchRoutes(state.routes, pathname)[0];\n      var newSettings = props.settings;\n\n      if (state.pathname !== pathname) {\n        if (matched && matched.route.settings) {\n          var routeSettings = matched.route.settings;\n          newSettings = generateSettings(props.defaultSettings, routeSettings);\n\n          if (!_.isEqual(props.settings, newSettings)) {\n            props.setSettings(newSettings);\n          }\n        } else if (!_.isEqual(props.settings, props.defaultSettings)) {\n          newSettings = _.merge({}, props.defaultSettings);\n          props.resetSettings();\n        }\n      }\n\n      function AnimationToggle(settings) {\n        if (!settings.animations) {\n          document.body.classList.add('no-animate');\n          Velocity.mock = true;\n          Chartjs2Defaults.global.animation = true;\n        } else {\n          document.body.classList.remove('no-animate');\n          Velocity.mock = false;\n          Chartjs2Defaults.global.animation = false;\n        }\n      }\n\n      AnimationToggle(newSettings);\n      return {\n        awaitRender: !_.isEqual(props.settings, newSettings),\n        pathname: pathname\n      };\n    }\n  }]);\n\n  return FuseLayout;\n}(Component);\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    setSettings: Actions.setSettings,\n    resetSettings: Actions.resetSettings\n  }, dispatch);\n}\n\nfunction mapStateToProps(_ref) {\n  var fuse = _ref.fuse;\n  return {\n    defaultSettings: fuse.settings.defaults,\n    settings: fuse.settings.current\n  };\n}\n\nFuseLayout.contextType = AppContext;\nexport default withStyles(styles, {\n  withTheme: true\n})(withRouter(connect(mapStateToProps, mapDispatchToProps)(React.memo(FuseLayout))));","map":{"version":3,"sources":["/Users/msumaran/Documents/Proyectos/masternativos/src/@fuse/core/FuseLayout/FuseLayout.js"],"names":["FuseLayouts","_","withStyles","AppContext","Actions","generateSettings","React","Component","connect","matchRoutes","withRouter","bindActionCreators","Velocity","defaults","Chartjs2Defaults","styles","theme","color","palette","secondary","dark","backgroundColor","type","padding","borderRadius","lineHeight","borderColor","divider","main","textDecoration","root","background","default","text","primary","FuseLayout","props","context","routes","state","awaitRender","settings","classes","Layout","layout","style","pathname","location","matched","newSettings","route","routeSettings","defaultSettings","isEqual","setSettings","merge","resetSettings","AnimationToggle","animations","document","body","classList","add","mock","global","animation","remove","mapDispatchToProps","dispatch","mapStateToProps","fuse","current","contextType","withTheme","memo"],"mappings":"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","sourcesContent":["import FuseLayouts from '@fuse/layouts/FuseLayouts';\nimport _ from '@lodash';\nimport { withStyles } from '@material-ui/core/styles';\nimport AppContext from 'app/AppContext';\nimport * as Actions from 'app/store/actions';\nimport { generateSettings } from 'app/store/reducers/fuse/settings.reducer';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { matchRoutes } from 'react-router-config';\nimport { withRouter } from 'react-router-dom';\nimport { bindActionCreators } from 'redux';\nimport * as Velocity from 'velocity-animate';\nimport { defaults as Chartjs2Defaults } from 'react-chartjs-2';\n\nconst styles = theme => ({\n\t'@global': {\n\t\t'code:not([class*=\"language-\"])': {\n\t\t\tcolor: theme.palette.secondary.dark,\n\t\t\tbackgroundColor: theme.palette.type === 'light' ? 'rgba(255, 255, 255, .9)' : 'rgba(0, 0, 0, .9)',\n\t\t\tpadding: '2px 3px',\n\t\t\tborderRadius: 2,\n\t\t\tlineHeight: 1.7\n\t\t},\n\t\t'table.simple tbody tr td': {\n\t\t\tborderColor: theme.palette.divider\n\t\t},\n\t\t'table.simple thead tr th': {\n\t\t\tborderColor: theme.palette.divider\n\t\t},\n\t\t'a:not([role=button])': {\n\t\t\tcolor: theme.palette.secondary.main,\n\t\t\ttextDecoration: 'none',\n\t\t\t'&:hover': {\n\t\t\t\ttextDecoration: 'underline'\n\t\t\t}\n\t\t},\n\t\t'[class^=\"border-\"]': {\n\t\t\tborderColor: theme.palette.divider\n\t\t},\n\t\t'[class*=\"border-\"]': {\n\t\t\tborderColor: theme.palette.divider\n\t\t}\n\t},\n\troot: {\n\t\tbackgroundColor: theme.palette.background.default,\n\t\tcolor: theme.palette.text.primary\n\t}\n});\n\nclass FuseLayout extends Component {\n\tconstructor(props, context) {\n\t\tsuper(props);\n\t\tconst { routes } = context;\n\n\t\tthis.state = {\n\t\t\tawaitRender: false,\n\t\t\troutes\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps(props, state) {\n\t\tconst { pathname } = props.location;\n\t\tconst matched = matchRoutes(state.routes, pathname)[0];\n\t\tlet newSettings = props.settings;\n\n\t\tif (state.pathname !== pathname) {\n\t\t\tif (matched && matched.route.settings) {\n\t\t\t\tconst routeSettings = matched.route.settings;\n\n\t\t\t\tnewSettings = generateSettings(props.defaultSettings, routeSettings);\n\n\t\t\t\tif (!_.isEqual(props.settings, newSettings)) {\n\t\t\t\t\tprops.setSettings(newSettings);\n\t\t\t\t}\n\t\t\t} else if (!_.isEqual(props.settings, props.defaultSettings)) {\n\t\t\t\tnewSettings = _.merge({}, props.defaultSettings);\n\n\t\t\t\tprops.resetSettings();\n\t\t\t}\n\t\t}\n\n\t\tfunction AnimationToggle(settings) {\n\t\t\tif (!settings.animations) {\n\t\t\t\tdocument.body.classList.add('no-animate');\n\t\t\t\tVelocity.mock = true;\n\t\t\t\tChartjs2Defaults.global.animation = true;\n\t\t\t} else {\n\t\t\t\tdocument.body.classList.remove('no-animate');\n\t\t\t\tVelocity.mock = false;\n\t\t\t\tChartjs2Defaults.global.animation = false;\n\t\t\t}\n\t\t}\n\n\t\tAnimationToggle(newSettings);\n\n\t\treturn {\n\t\t\tawaitRender: !_.isEqual(props.settings, newSettings),\n\t\t\tpathname\n\t\t};\n\t}\n\n\trender() {\n\t\tconst { settings, classes } = this.props;\n\t\t// console.warn('FuseLayout:: rendered');\n\n\t\tconst Layout = FuseLayouts[settings.layout.style];\n\n\t\treturn !this.state.awaitRender ? <Layout classes={{ root: classes.root }} {...this.props} /> : null;\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn bindActionCreators(\n\t\t{\n\t\t\tsetSettings: Actions.setSettings,\n\t\t\tresetSettings: Actions.resetSettings\n\t\t},\n\t\tdispatch\n\t);\n}\n\nfunction mapStateToProps({ fuse }) {\n\treturn {\n\t\tdefaultSettings: fuse.settings.defaults,\n\t\tsettings: fuse.settings.current\n\t};\n}\n\nFuseLayout.contextType = AppContext;\n\nexport default withStyles(styles, { withTheme: true })(\n\twithRouter(connect(mapStateToProps, mapDispatchToProps)(React.memo(FuseLayout)))\n);\n"]},"metadata":{},"sourceType":"module"}